(this.webpackJsonpmemcrab=this.webpackJsonpmemcrab||[]).push([[0],{11:function(t,e,n){t.exports=n(19)},16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(4),o=n.n(i),u=(n(16),n(17),n(2)),l=n(5),c=n(1),m=n(6),s=n(7),f=n(9),d=n(8),h=n(10);n(18);function x(){return 0+~~(1e3*Math.random())}function g(t,e,n){return{matrix:Array(t).fill().map((function(t,n){var a=n.toString();return Array(e).fill().map((function(t,e){return{amount:x(),id:a+e}}))})),numOfClosestCells:n||0}}function p(t){return t?t.reduce((function(t,e){return e.forEach((function(e,n){t[n]=(t[n]||0)+e.amount})),t}),[]).map((function(e){return e/t.length})):[]}function v(t){return t?t.map((function(t){return t.reduce((function(t,e){var n=e.amount;return parseInt(t+n)}),[])})):[]}function E(t){return[].concat.apply([],t).sort((function(t,e){return t.amount-e.amount}))}var C=function(t){function e(){var t;Object(m.a)(this,e),(t=Object(f.a)(this,Object(d.a)(e).call(this))).handleIncrementCellValue=function(e){t.state.matrix.forEach((function(n,a){n.find((function(n,r){n.id===e&&t.setState((function(t){var e=Object(c.a)(t.matrix);return e[a][r]=Object(l.a)({},e[a][r],{amount:e[a][r].amount+1}),{matrix:e}}))}))}))},t.getClosest=function(e,n){if(n.length)return e<n[0].amount?n[0]:e>n[n.length-1].amount?n[n.length-1]:n.sort((function(t,n){return Math.abs(t.amount-e)-Math.abs(n.amount-e)})).slice(0,t.state.numOfClosestValue+1).map((function(t){return t.id}))},t.handleHighlightClosest=function(e,n){var a=t.getClosest(n,t.state.formattedMatrix)||[];t.setState({formattedMatrix:E(t.state.formattedMatrix)}),a.length&&a.forEach((function(n){t.refs[n]&&n!==e&&t.refs[n].classList.add("hightlight")}))},t.handleRemoveClassName=function(t){var e=Object(c.a)(document.querySelectorAll(".".concat(t)));e.length&&e.forEach((function(e){e.classList.remove(t)}))},t.handleInputChange=function(e){t.setState(Object(u.a)({},e.target.name,parseInt(e.target.value)))},t.handleCreateMatrix=function(){var e=t.state,n=e.matrixM,a=e.matrixN,r=e.matrixX;if(t.handleRemoveClassName("input-validate"),n<=15&&a<=15){var i=g(n,a,r);t.setState({matrix:i.matrix||[],numOfClosestValue:i.numOfClosestCells,formattedMatrix:E(i.matrix),colSum:p(i.matrix),rowSum:v(i.matrix)})}else{Object(c.a)(document.getElementsByTagName("input")).forEach((function(t){t.value>15&&t.classList.add("input-validate")}))}},t.getRowPercentage=function(e,n){t.setState({showPercentage:{idx:e,elem:n}})},t.returnRowValues=function(e){t.setState({showPercentage:!1})},t.handleAddRow=function(e,n){var a=t.state.matrixN,r=Array(a||10).fill().map((function(e,n){return{amount:x(),id:"".concat(t.state.matrix.length.toString()+n)}}));t.setState({matrix:[].concat(Object(c.a)(t.state.matrix),[r]),formattedMatrix:E(t.state.matrix)})},t.handleDeleteRow=function(e,n){t.setState({matrix:t.state.matrix.filter((function(t,e){return n!==e})),rowSum:t.state.rowSum.filter((function(t,e){return n!==e})),formattedMatrix:E(t.state.matrix)})};var n=g(10,10,4);return t.state={matrix:n.matrix||[],numOfClosestValue:n.numOfClosestCells,formattedMatrix:E(n.matrix),colSum:p(n.matrix),rowSum:v(n.matrix)},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.matrix,a=e.showPercentage,i=function(t,e){return parseFloat(t/e*100).toFixed(1)},o=p(n)||[],u=v(n)||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"conrols"},r.a.createElement("input",{placeholder:"M",type:"number",name:"matrixM",onChange:function(e){return t.handleInputChange(e)},required:!0,min:"1",max:"15"}),r.a.createElement("input",{placeholder:"N",type:"number",name:"matrixN",onChange:function(e){return t.handleInputChange(e)},required:!0,min:"1",max:"15"}),r.a.createElement("input",{placeholder:"X",type:"number",name:"matrixX",onChange:function(e){return t.handleInputChange(e)},required:!0,min:"1"}),r.a.createElement("div",{onClick:function(){return t.handleCreateMatrix()}},"Create matrix")),r.a.createElement("div",{className:"matrix-container"},r.a.createElement("div",{className:"matrix-group"},r.a.createElement("table",{className:"matrix-table",cellPadding:"0",cellSpacing:"0"},r.a.createElement("tbody",null,n?n.map((function(e,n){return r.a.createElement("tr",{key:n},e.map((function(e){return r.a.createElement("td",{key:e.id,onClick:function(){return t.handleIncrementCellValue(e.id)},onMouseOver:function(){return t.handleHighlightClosest(e.id,e.amount)},onMouseOut:function(){return t.handleRemoveClassName("hightlight")},ref:e.id},r.a.createElement("span",{className:a&&n===a.idx?"percentWidth":"",style:{width:a?"".concat(i(e.amount,a.elem),"%"):""}},a&&n===a.idx?i(e.amount,a.elem):e.amount))})))})):null,r.a.createElement("tr",{className:"matrix-colsum"},o?o.map((function(t,e){return r.a.createElement("td",{key:e},(0^t)===t?t:Math.ceil(t))})):null))),r.a.createElement("div",{className:"sub-matrix-container"},r.a.createElement("table",{className:"sub-matrix"},r.a.createElement("tbody",null,u?u.map((function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",{onMouseOver:function(){return t.getRowPercentage(n,e)},onMouseOut:function(){return t.returnRowValues(n)},key:n},e))})):null)),n.length?r.a.createElement("div",{className:"addBtn",onClick:function(){return t.handleAddRow()}}):""),r.a.createElement("table",{className:"edit-col"},r.a.createElement("tbody",null,u?u.map((function(e,n){return r.a.createElement("tr",{key:n,className:"button-group"},r.a.createElement("td",{onClick:function(){return t.handleDeleteRow(e,n)},className:"dltBtn"}))})):null)))))}}]),e}(a.Component);var b=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.98ef13ff.chunk.js.map